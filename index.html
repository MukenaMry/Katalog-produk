<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Katalog Miraya</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body style="background-color: rosybrown;">


    <!-- Navbar -->
<nav class="flex justify-between items-center p-4" style="background-color: rosybrown;">
    <h1 class="text-xl font-bold" style="color: saddlebrown;">@__mirayamukena</h1>
<div class="flex items-center">
    <i class="fas fa-shopping-cart text-xl cursor-pointer" style="color: saddlebrown;" onclick="viewCart()"></i>
    <span id="cartCount" class="ml-1 text-sm font-bold text-white bg-red-600 rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
</div>

</nav>




    <!-- Search Input -->
    <div class="p-4">
        <input type="text" id="searchInput" placeholder="Cari produk..." class="w-full p-2 border border-gray-300 rounded-md" oninput="filterProducts()">
    </div>

    <!-- Product Grid -->
    <div id="productGrid" class="p-4 grid grid-cols-2 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5">
        <!-- Product cards will be dynamically generated here -->
    </div>

    <!-- Product Modal -->
    <div id="productModal" class="fixed inset-0 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-lg p-4 max-w-md w-full relative">
            <button class="close-button absolute top-2 right-2 text-gray-600" onclick="closeModal()">✖</button>
            <h2 id="modalTitle" class="text-lg font-bold"></h2>
            <p id="modalPrice" class="text-red-600 font-bold text-lg"></p>
            <img id="modalImage" src="" alt="Product Image" class="mt-2 rounded-md">
            <div class="mt-4 flex justify-between">
                <button id="prevBtn" class="bg-gray-300 text-gray-800 rounded-md px-4 py-2" onclick="changeImage(-1)">Sebelumnya</button>
                <button id="nextBtn" class="bg-gray-300 text-gray-800 rounded-md px-4 py-2" onclick="changeImage(1)">Berikutnya</button>
            </div>
            <button id="checkoutBtn" class="mt-4 w-full py-2 bg-green-500 text-white rounded-md" onclick="addToCart()">Checkout</button>
        </div>
    </div>

<!-- Shopping Cart Modal -->
<div id="cartModal" class="fixed inset-0 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-lg shadow-lg p-4 max-w-md w-full relative">
        <button class="close-button absolute top-2 right-2 text-gray-600" onclick="closeCart()">✖</button>
        <h2 class="text-lg font-bold">Keranjang Belanja</h2>
        
        <!-- Cart Items -->
        <div id="cartItems" class="mt-4 max-h-60 overflow-y-auto">
            <!-- Cart items will be dynamically generated here -->
        </div>
        
        <!-- Total Price -->
        <div class="mt-4">
            <p id="totalPrice" class="font-bold">Total: Rp0</p>
        </div>

        <!-- Purchase Information Form -->
        <form id="purchaseForm" class="mt-4">
            <div class="mb-2">
                <label for="name" class="block text-sm font-medium text-gray-700">Nama</label>
                <input type="text" id="name" name="name" class="w-full p-2 border border-gray-300 rounded-md" required>
            </div>
            <div class="mb-2">
                <label for="address" class="block text-sm font-medium text-gray-700">Alamat</label>
                <input type="text" id="address" name="address" class="w-full p-2 border border-gray-300 rounded-md" required>
            </div>
            <div class="mb-2">
                <label for="phone" class="block text-sm font-medium text-gray-700">Nomor Handphone</label>
                <input type="tel" id="phone" name="phone" class="w-full p-2 border border-gray-300 rounded-md" required>
            </div>
            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700">Kategori Pembeli</label>
                <div class="flex items-center space-x-4 mt-1">
                    <label class="flex items-center">
                        <input type="radio" name="category" value="Anak" class="mr-2" required>Couple
                    </label>
                    <label class="flex items-center">
                        <input type="radio" name="category" value="Dewasa" class="mr-2" required> Dewasa
                    </label>
                </div>
            </div>
        </form>

        <!-- Checkout Button -->
        <button class="mt-4 w-full py-2 bg-blue-500 text-white rounded-md" onclick="checkout()">Beli Sekarang</button>
    </div>
</div>



    <script>
        // Product Data
        const products = [
            {
                title: "Miraya Vol.10 Folk Light Blue",
                price: 199000,
                images: ["img/folkblue.jpg", "img/folkblue1.jpg", "img/folkblue2.jpg"]
            },
            {
                title: "Miraya Vol.10 Folk Dust Peach",
                price: 199000,
                images: ["img/folkdust1.jpg", "img/folkdust2.jpg", "img/folkdust3.jpg"]
            },
            {
                title: "Miraya Vol.10 Folk Denim",
                price: 199000,
                images: ["img/folkdenim1.jpg", "img/folkdenim2.jpg"]
            },
            {
                title: "Miraya Vol.10 Folk Blush",
                price: 199000,
                images: ["img/folkblush1.jpg", "img/folkblush2.jpg"]
            },
            {
                title: "Miraya Vol.10 Folk Taupe",
                price: 199000,
                images: ["img/folktaupe1.jpg", "img/folktaupe2.jpg"]
            },
            {
                title: "Miraya Vol.10 Folk BW",
                price: 199000,
                images: ["img/folkbw1.jpg", "img/folkbw2.jpg"]
            }
        ];

        const shoppingCart = []; // Array to hold cart items
        let currentImageIndex = 0;
        let currentProductIndex = 0;

        // Load products into the grid
        function loadProducts() {
            const productGrid = document.getElementById("productGrid");
            productGrid.innerHTML = ''; // Clear existing products

            products.forEach((product, index) => {
                const productCard = `
                    <div class="product-card bg-white rounded-lg shadow-lg p-4 cursor-pointer" onclick="openModal(${index})">
                        <img src="${product.images[0]}" alt="${product.title}" class="w-full h-32 object-cover rounded-md">
                        <div class="mt-2">
                            <h2 class="text-gray-800 font-semibold text-sm">${product.title}</h2>
                            <p class="text-red-600 font-bold text-lg">Rp${product.price.toLocaleString()}</p>
                        </div>
                    </div>
                `;
                productGrid.innerHTML += productCard;
            });
        }

        // Modal functionality
        function openModal(index) {
            currentProductIndex = index;
            currentImageIndex = 0;
            const product = products[index];
            document.getElementById("modalTitle").innerText = product.title;
            document.getElementById("modalPrice").innerText = `Rp${product.price.toLocaleString()}`;
            document.getElementById("modalImage").src = product.images[currentImageIndex];
            document.getElementById("productModal").classList.remove("hidden");
        }

        function closeModal() {
            document.getElementById("productModal").classList.add("hidden");
        }

        function changeImage(direction) {
            currentImageIndex += direction;
            const product = products[currentProductIndex];
            if (currentImageIndex < 0) currentImageIndex = product.images.length - 1;
            if (currentImageIndex >= product.images.length) currentImageIndex = 0;
            document.getElementById("modalImage").src = product.images[currentImageIndex];
        }



// Add product to cart
function addToCart() {
    const product = products[currentProductIndex];
    if (shoppingCart[product.title]) {
        shoppingCart[product.title].quantity += 1; // Jika produk sudah ada, tingkatkan jumlah
    } else {
        shoppingCart[product.title] = {
            price: product.price,
            image: product.images[0],
            quantity: 1 // Set jumlah awal ke 1
        };
    }
}


// View shopping cart
function updateQuantity(title, change) {
    if (shoppingCart[title]) {
        shoppingCart[title].quantity += change;
        if (shoppingCart[title].quantity <= 0) {
            delete shoppingCart[title]; // Hapus item jika jumlahnya 0
        }
        viewCart(); // Perbarui tampilan keranjang
    }
}


function viewCart() {
    const cartItemsContainer = document.getElementById("cartItems");
    cartItemsContainer.innerHTML = ''; // Hapus item yang ada
    let totalPrice = 0;

    if (Object.keys(shoppingCart).length === 0) {
        cartItemsContainer.innerHTML = '<p class="text-gray-500">Keranjang belanja kosong.</p>';
    } else {
        for (const [title, item] of Object.entries(shoppingCart)) {
            const itemDiv = `
                <div class="flex items-center border-b border-gray-300 py-2">
                    <img src="${item.image}" alt="${title}" class="w-16 h-16 object-cover mr-2">
                    <div class="flex flex-col justify-between w-full ml-2">
                        <span class="font-semibold">${title}</span> <!-- Nama produk -->
                        <div class="flex items-center">
                            <button class="bg-gray-300 text-gray-800 rounded-md px-2" onclick="updateQuantity('${title}', -1)">-</button>
                            <span class="mx-2">${item.quantity}</span>
                            <button class="bg-gray-300 text-gray-800 rounded-md px-2" onclick="updateQuantity('${title}', 1)">+</button>
                        </div>
                        <span class="font-bold">Rp${(item.price * item.quantity).toLocaleString()}</span> <!-- Harga produk -->
                    </div>
                </div>
            `;
            cartItemsContainer.innerHTML += itemDiv;
            totalPrice += item.price * item.quantity; // Total harga
        }
    }

    document.getElementById("totalPrice").innerText = `Total: Rp${totalPrice.toLocaleString()}`;
    document.getElementById("cartModal").classList.remove("hidden");
}


function closeCart() {
    document.getElementById("cartModal").classList.add("hidden");
}


        // Filter products based on search input
        function filterProducts() {
            const searchInput = document.getElementById("searchInput").value.toLowerCase();
            const productCards = document.querySelectorAll(".product-card");
            productCards.forEach(card => {
                const title = card.querySelector('h2').innerText.toLowerCase();
                card.style.display = title.includes(searchInput) ? 'block' : 'none';
            });
        }

        // Load products on initial page load
        loadProducts();
        
        
    // checkout //
// Clear the cart after checkout
function checkout() {
    // Retrieve form values
    const name = document.getElementById("name").value.trim();
    const address = document.getElementById("address").value.trim();
    const phone = document.getElementById("phone").value.trim();
    const category = document.querySelector('input[name="category"]:checked')?.value;

    // Check for empty cart or incomplete form fields
    if (Object.keys(shoppingCart).length === 0) {
        alert("Keranjang belanja kosong.");
        return;
    }
    if (!name || !address || !phone || !category) {
        alert("Mohon lengkapi semua data pembelian.");
        return;
    }

    // Create cart details message
    let cartMessage = "Daftar Pesanan:\n";
    for (const [title, item] of Object.entries(shoppingCart)) {
<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Katalog Miraya</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body style="background-color: rosybrown;">


    <!-- Navbar -->
<nav class="flex justify-between items-center p-4" style="background-color: rosybrown;">
    <h1 class="text-xl font-bold" style="color: saddlebrown;">@__mirayamukena</h1>
<div class="flex items-center">
    <i class="fas fa-shopping-cart text-xl cursor-pointer" style="color: saddlebrown;" onclick="viewCart()"></i>
    <span id="cartCount" class="ml-1 text-sm font-bold text-white bg-red-600 rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
</div>

</nav>




    <!-- Search Input -->
    <div class="p-4">
        <input type="text" id="searchInput" placeholder="Cari produk..." class="w-full p-2 border border-gray-300 rounded-md" oninput="filterProducts()">
    </div>

    <!-- Product Grid -->
    <div id="productGrid" class="p-4 grid grid-cols-2 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5">
        <!-- Product cards will be dynamically generated here -->
    </div>

    <!-- Product Modal -->
    <div id="productModal" class="fixed inset-0 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-lg p-4 max-w-md w-full relative">
            <button class="close-button absolute top-2 right-2 text-gray-600" onclick="closeModal()">✖</button>
            <h2 id="modalTitle" class="text-lg font-bold"></h2>
            <p id="modalPrice" class="text-red-600 font-bold text-lg"></p>
            <img id="modalImage" src="" alt="Product Image" class="mt-2 rounded-md">
            <div class="mt-4 flex justify-between">
                <button id="prevBtn" class="bg-gray-300 text-gray-800 rounded-md px-4 py-2" onclick="changeImage(-1)">Sebelumnya</button>
                <button id="nextBtn" class="bg-gray-300 text-gray-800 rounded-md px-4 py-2" onclick="changeImage(1)">Berikutnya</button>
            </div>
            <button id="checkoutBtn" class="mt-4 w-full py-2 bg-green-500 text-white rounded-md" onclick="addToCart()">Checkout</button>
        </div>
    </div>

<!-- Shopping Cart Modal -->
<div id="cartModal" class="fixed inset-0 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-lg shadow-lg p-4 max-w-md w-full relative">
        <button class="close-button absolute top-2 right-2 text-gray-600" onclick="closeCart()">✖</button>
        <h2 class="text-lg font-bold">Keranjang Belanja</h2>
        
        <!-- Cart Items -->
        <div id="cartItems" class="mt-4 max-h-60 overflow-y-auto">
            <!-- Cart items will be dynamically generated here -->
        </div>
        
        <!-- Total Price -->
        <div class="mt-4">
            <p id="totalPrice" class="font-bold">Total: Rp0</p>
        </div>

        <!-- Purchase Information Form -->
        <form id="purchaseForm" class="mt-4">
            <div class="mb-2">
                <label for="name" class="block text-sm font-medium text-gray-700">Nama</label>
                <input type="text" id="name" name="name" class="w-full p-2 border border-gray-300 rounded-md" required>
            </div>
            <div class="mb-2">
                <label for="address" class="block text-sm font-medium text-gray-700">Alamat</label>
                <input type="text" id="address" name="address" class="w-full p-2 border border-gray-300 rounded-md" required>
            </div>
            <div class="mb-2">
                <label for="phone" class="block text-sm font-medium text-gray-700">Nomor Handphone</label>
                <input type="tel" id="phone" name="phone" class="w-full p-2 border border-gray-300 rounded-md" required>
            </div>
            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700">Kategori Pembeli</label>
                <div class="flex items-center space-x-4 mt-1">
                    <label class="flex items-center">
                        <input type="radio" name="category" value="Anak" class="mr-2" required>Couple
                    </label>
                    <label class="flex items-center">
                        <input type="radio" name="category" value="Dewasa" class="mr-2" required> Dewasa
                    </label>
                </div>
            </div>
        </form>

        <!-- Checkout Button -->
        <button class="mt-4 w-full py-2 bg-blue-500 text-white rounded-md" onclick="checkout()">Beli Sekarang</button>
    </div>
</div>



    <script>
        // Product Data
        const products = [
            {
                title: "Miraya Vol.10 Folk Light Blue",
                price: 199000,
                images: ["img/folkblue.jpg", "img/folkblue1.jpg", "img/folkblue2.jpg"]
            },
            {
                title: "Miraya Vol.10 Folk Dust Peach",
                price: 199000,
                images: ["img/folkdust1.jpg", "img/folkdust2.jpg", "img/folkdust3.jpg"]
            },
            {
                title: "Miraya Vol.10 Folk Denim",
                price: 199000,
                images: ["img/folkdenim1.jpg", "img/folkdenim2.jpg"]
            },
            {
                title: "Miraya Vol.10 Folk Blush",
                price: 199000,
                images: ["img/folkblush1.jpg", "img/folkblush2.jpg"]
            },
            {
                title: "Miraya Vol.10 Folk Taupe",
                price: 199000,
                images: ["img/folktaupe1.jpg", "img/folktaupe2.jpg"]
            },
            {
                title: "Miraya Vol.10 Folk BW",
                price: 199000,
                images: ["img/folkbw1.jpg", "img/folkbw2.jpg"]
            }
        ];

        const shoppingCart = []; // Array to hold cart items
        let currentImageIndex = 0;
        let currentProductIndex = 0;

        // Load products into the grid
        function loadProducts() {
            const productGrid = document.getElementById("productGrid");
            productGrid.innerHTML = ''; // Clear existing products

            products.forEach((product, index) => {
                const productCard = `
                    <div class="product-card bg-white rounded-lg shadow-lg p-4 cursor-pointer" onclick="openModal(${index})">
                        <img src="${product.images[0]}" alt="${product.title}" class="w-full h-32 object-cover rounded-md">
                        <div class="mt-2">
                            <h2 class="text-gray-800 font-semibold text-sm">${product.title}</h2>
                            <p class="text-red-600 font-bold text-lg">Rp${product.price.toLocaleString()}</p>
                        </div>
                    </div>
                `;
                productGrid.innerHTML += productCard;
            });
        }

        // Modal functionality
        function openModal(index) {
            currentProductIndex = index;
            currentImageIndex = 0;
            const product = products[index];
            document.getElementById("modalTitle").innerText = product.title;
            document.getElementById("modalPrice").innerText = `Rp${product.price.toLocaleString()}`;
            document.getElementById("modalImage").src = product.images[currentImageIndex];
            document.getElementById("productModal").classList.remove("hidden");
        }

        function closeModal() {
            document.getElementById("productModal").classList.add("hidden");
        }

        function changeImage(direction) {
            currentImageIndex += direction;
            const product = products[currentProductIndex];
            if (currentImageIndex < 0) currentImageIndex = product.images.length - 1;
            if (currentImageIndex >= product.images.length) currentImageIndex = 0;
            document.getElementById("modalImage").src = product.images[currentImageIndex];
        }



// Add product to cart
function addToCart() {
    const product = products[currentProductIndex];
    if (shoppingCart[product.title]) {
        shoppingCart[product.title].quantity += 1; // Jika produk sudah ada, tingkatkan jumlah
    } else {
        shoppingCart[product.title] = {
            price: product.price,
            image: product.images[0],
            quantity: 1 // Set jumlah awal ke 1
        };
    }
}


// View shopping cart
function updateQuantity(title, change) {
    if (shoppingCart[title]) {
        shoppingCart[title].quantity += change;
        if (shoppingCart[title].quantity <= 0) {
            delete shoppingCart[title]; // Hapus item jika jumlahnya 0
        }
        viewCart(); // Perbarui tampilan keranjang
    }
}


function viewCart() {
    const cartItemsContainer = document.getElementById("cartItems");
    cartItemsContainer.innerHTML = ''; // Hapus item yang ada
    let totalPrice = 0;

    if (Object.keys(shoppingCart).length === 0) {
        cartItemsContainer.innerHTML = '<p class="text-gray-500">Keranjang belanja kosong.</p>';
    } else {
        for (const [title, item] of Object.entries(shoppingCart)) {
            const itemDiv = `
                <div class="flex items-center border-b border-gray-300 py-2">
                    <img src="${item.image}" alt="${title}" class="w-16 h-16 object-cover mr-2">
                    <div class="flex flex-col justify-between w-full ml-2">
                        <span class="font-semibold">${title}</span> <!-- Nama produk -->
                        <div class="flex items-center">
                            <button class="bg-gray-300 text-gray-800 rounded-md px-2" onclick="updateQuantity('${title}', -1)">-</button>
                            <span class="mx-2">${item.quantity}</span>
                            <button class="bg-gray-300 text-gray-800 rounded-md px-2" onclick="updateQuantity('${title}', 1)">+</button>
                        </div>
                        <span class="font-bold">Rp${(item.price * item.quantity).toLocaleString()}</span> <!-- Harga produk -->
                    </div>
                </div>
            `;
            cartItemsContainer.innerHTML += itemDiv;
            totalPrice += item.price * item.quantity; // Total harga
        }
    }

    document.getElementById("totalPrice").innerText = `Total: Rp${totalPrice.toLocaleString()}`;
    document.getElementById("cartModal").classList.remove("hidden");
}


function closeCart() {
    document.getElementById("cartModal").classList.add("hidden");
}


        // Filter products based on search input
        function filterProducts() {
            const searchInput = document.getElementById("searchInput").value.toLowerCase();
            const productCards = document.querySelectorAll(".product-card");
            productCards.forEach(card => {
                const title = card.querySelector('h2').innerText.toLowerCase();
                card.style.display = title.includes(searchInput) ? 'block' : 'none';
            });
        }

        // Load products on initial page load
        loadProducts();
        
        
    // checkout //
// Clear the cart after checkout
function checkout() {
    // Retrieve form values
    const name = document.getElementById("name").value.trim();
    const address = document.getElementById("address").value.trim();
    const phone = document.getElementById("phone").value.trim();
    const category = document.querySelector('input[name="category"]:checked')?.value;

    // Check for empty cart or incomplete form fields
    if (Object.keys(shoppingCart).length === 0) {
        alert("Keranjang belanja kosong.");
        return;
    }
    if (!name || !address || !phone || !category) {
        alert("Mohon lengkapi semua data pembelian.");
        return;
    }

    // Create cart details message
    let cartMessage = "Daftar Pesanan:\n";
    for (const [title, item] of Object.entries(shoppingCart)) {
        cartMessage += `- ${title} x${item.quantity} (Rp${(item.price * item.quantity).toLocaleString()})\n`;
    }

    // Calculate total price
    const totalPrice = Object.values(shoppingCart).reduce((sum, item) => sum + (item.price * item.quantity), 0);

    // Build final message for WhatsApp
    const message = `
        Halo, saya ingin memesan:
        
        ${cartMessage}
        
        Total Harga: Rp${totalPrice.toLocaleString()}
        
        Nama: ${name}
        Alamat: ${address}
        Nomor Handphone: ${phone}
        Kategori Pembeli: ${category}
    `;

    // Encode message for URL
    const whatsappUrl = `https://wa.me/6281297647873?text=${encodeURIComponent(message)}`;

    // Open WhatsApp with pre-filled message
    window.open(whatsappUrl, "_blank");

    // Clear the cart after checkout
    shoppingCart = {}; // Reset shopping cart object
    viewCart();
    closeCart();
}

// Update cart count display
function updateCartCount() {
    const cartCountElement = document.getElementById("cartCount");
    const totalItems = Object.values(shoppingCart).reduce((sum, item) => sum + item.quantity, 0);

    if (totalItems > 0) {
        cartCountElement.innerText = totalItems;
        cartCountElement.classList.remove("hidden");
    } else {
        cartCountElement.classList.add("hidden");
    }
}

// Modify addToCart function to update cart count
function addToCart() {
    const product = products[currentProductIndex];
    if (shoppingCart[product.title]) {
        shoppingCart[product.title].quantity += 1; // Jika produk sudah ada, tingkatkan jumlah
    } else {
        shoppingCart[product.title] = {
            price: product.price,
            image: product.images[0],
            quantity: 1 // Set jumlah awal ke 1
        };
    }
    updateCartCount(); // Update cart count display
}

// Modify updateQuantity function to update cart count
function updateQuantity(title, change) {
    if (shoppingCart[title]) {
        shoppingCart[title].quantity += change;
        if (shoppingCart[title].quantity <= 0) {
            delete shoppingCart[title]; // Hapus item jika jumlahnya 0
        }
        updateCartCount(); // Update cart count display
        viewCart(); // Perbarui tampilan keranjang
    }
}


    </script>
    
</body>

</html>
￼Enter        cartMessage += `- ${title} x${item.quantity} (Rp${(item.price * item.quantity).toLocaleString()})\n`;
    }

    // Calculate total price
    const totalPrice = Object.values(shoppingCart).reduce((sum, item) => sum + (item.price * item.quantity), 0);

    // Build final message for WhatsApp
    const message = `
        Halo, saya ingin memesan:
        
        ${cartMessage}
        
        Total Harga: Rp${totalPrice.toLocaleString()}
        
        Nama: ${name}
        Alamat: ${address}
        Nomor Handphone: ${phone}
        Kategori Pembeli: ${category}
    `;

    // Encode message for URL
    const whatsappUrl = `https://wa.me/6281297647873?text=${encodeURIComponent(message)}`;

    // Open WhatsApp with pre-filled message
    window.open(whatsappUrl, "_blank");

 Clear the cart after checkout
    shoppingCart = {}; // Reset shopping cart object
    viewCart();
    closeCart();
}

// Update cart count display
function updateCartCount() {
    const cartCountElement = document.getElementById("cartCount");
    const totalItems = Object.values(shoppingCart).reduce((sum, item) => sum + item.quantity, 0);

    if (totalItems > 0) {
        cartCountElement.innerText = totalItems;
        cartCountElement.classList.remove("hidden");
    } else {
        cartCountElement.classList.add("hidden");
    }
}

// Modify addToCart function to update cart count
function addToCart() {
    const product = products[currentProductIndex];
    if (shoppingCart[product.title]) {
        shoppingCart[product.title].quantity += 1; // Jika produk sudah ada, tingkatkan jumlah
    } else {
        shoppingCart[product.title] = {
